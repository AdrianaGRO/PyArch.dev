{% extends "base.html" %}
{% block title %}Blog - Adriana Gropan{% endblock %}

{% block content %}
<!-- Blog Page Header -->
<div class="hero-unified">
    <h1 class="hero-title-unified">
        Learning <span style="color: var(--accent-blue);">Journal</span>
    </h1>
    <p class="hero-subtitle-unified">
        What I'm learning, what breaks, what works.
    </p>
</div>

<!-- All Blog Posts -->
<div style="padding: var(--space-2xl) 0;">
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 var(--space-xl);">
        
        {% if posts and posts|length > 0 %}
        <!-- Posts Grid -->
        <div class="grid grid-2">
            {% for post in posts %}
            <article class="card" style="
                display: flex; 
                flex-direction: column;
                transition: all var(--transition-base);">
                
                <!-- Post Meta -->
                <div style="
                    display: flex; 
                    align-items: center; 
                    gap: var(--space-sm); 
                    margin-bottom: var(--space-md);">
                    {% if post.category %}
                    <span style="
                        font-size: 0.75rem;
                        font-weight: 600;
                        text-transform: uppercase;
                        letter-spacing: 0.05em;
                        color: var(--accent-blue);">
                        {{ post.category.split(',')[0] }}
                    </span>
                    {% endif %}
                    
                    {% if post.created_at %}
                    <span style="color: var(--border-color);">¬∑</span>
                    <time style="font-size: 0.875rem; color: var(--text-muted);">
                        {{ post.created_at.split(' ')[0] }}
                    </time>
                    {% endif %}
                </div>
                
                <!-- Post Title -->
                <h2 style="
                    font-size: 1.5rem; 
                    font-weight: 600; 
                    line-height: 1.3; 
                    margin-bottom: var(--space-md);">
                    <a href="{{ url_for('post', id=post.id) }}" 
                       style="
                       color: var(--text-primary); 
                       text-decoration: none;
                       transition: color var(--transition-base);">
                        {{ post.title }}
                    </a>
                </h2>
                
                <!-- Post Excerpt -->
                <p style="
                   color: var(--text-secondary); 
                   line-height: 1.6; 
                   margin-bottom: var(--space-md); 
                   flex-grow: 1;">
                    {% set clean_content = post.content | replace('<img', '') | replace('![', '') | replace('#', '') | striptags %}
                    {{ (clean_content[:180] + '...') if clean_content|length > 180 else clean_content }}
                </p>
                
                <!-- Read More -->
                <a href="{{ url_for('post', id=post.id) }}" 
                   style="
                   color: var(--accent-blue);
                   text-decoration: none;
                   font-size: 0.925rem;
                   font-weight: 500;
                   transition: color var(--transition-base);">
                    Read post ‚Üí
                </a>
            </article>
            {% endfor %}
        </div>
        {% else %}
        <!-- No posts message -->
        <div style="text-align: center; padding: var(--space-2xl) 0;">
            <div style="font-size: 3rem; margin-bottom: var(--space-lg); color: var(--text-muted);">üìù</div>
            <h2 style="color: var(--text-primary); margin-bottom: var(--space-md);">No Posts Yet</h2>
            <p style="color: var(--text-secondary); font-size: 1.125rem;">
                Check back soon for updates on my automation journey.
            </p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
